{% extends 'recommender_app/admin_base.html' %}
{% load static %}

{% block title %}Hasil Prediksi dan Similarity{% endblock %}

{% block admin_back_button %} {# <-- GUNAKAN BLOK INI #}
<div class="back-button-container">
    <a href="{% url 'admin_dashboard' %}" class="btn back-btn">‚Üê Kembali ke Dashboard Admin</a>
</div>
{% endblock %}

{% block admin_content %}
<h1>Hasil Prediksi Rating Film</h1>
{% if prediction_data %}
<table class="data-table">
    <thead>
        <tr>
            <th>Nama User</th>
            <th>Nama Film</th>
            <th>Nilai Prediksi</th>
        </tr>
    </thead>
    <tbody>
        {% for data in prediction_data %}
        <tr>
            <td>{{ data.user_name }}</td>
            <td>{{ data.film_name }}</td>
            <td>{{ data.predicted_rating }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
    <p>Tidak ada data prediksi untuk ditampilkan. Pastikan ada cukup rating film dan film yang belum dirating oleh pengguna.</p>
{% endif %}

<h1>Hasil Perhitungan Cosine Similarity Antar Pengguna</h1>
{% if similarity_data %}
<table class="data-table">
    <thead>
        <tr>
            <th>User 1</th>
            <th>User 2</th>
            <th>Cosine Similarity</th>
        </tr>
    </thead>
    <tbody>
        {% for data in similarity_data %}
        <tr>
            <td>{{ data.user1 }}</td>
            <td>{{ data.user2 }}</td>
            <td>{{ data.similarity }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
    <p>Tidak ada data similarity untuk ditampilkan. Pastikan ada cukup rating film dari beberapa pengguna.</p>
{% endif %}
{% endblock %}